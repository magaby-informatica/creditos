<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CUADRE - Dashboard</title>

<style>
body {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298, #7e22ce);
    margin: 0;
    padding: 24px;
}

.container {
    max-width: 1400px;
    margin: auto;
}

.card {
    background: #ffffff;
    border-radius: 20px;
    padding: 26px;
    box-shadow: 0 18px 45px rgba(0,0,0,.28);
    margin-bottom: 26px;
}

.header {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header h1 {
    margin: 0;
    font-size: 30px;
    font-weight: 800;
}

.subtitle {
    font-size: 13px;
    color: #666;
}

.grid-3 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 18px;
}

.grid-4 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 20px;
}

.metric {
    background: #f8f9ff;
    border-radius: 16px;
    padding: 20px;
}

.label {
    font-size: 13px;
    font-weight: 600;
    color: #666;
}

.value {
    margin-top: 6px;
    font-size: 26px;
    font-weight: 800;
    color: #111;
}

.badge {
    display: inline-block;
    margin-top: 10px;
    padding: 4px 14px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 700;
    color: #fff;
}

.green { background: #10b981; }
.red { background: #ef4444; }
.orange { background: #f59e0b; }
.purple { background: #8b5cf6; }
</style>
</head>

<body>
<div class="container">

<!-- ENCABEZADO -->
<div class="card header">
    <div>
        <h1>CUADRE</h1>
        <div class="subtitle">Sistema de Gestión de Ingresos</div>
    </div>
</div>

<!-- INFORMACIÓN GENERAL -->
<div class="card">
    <h3>Información General</h3>
    <div class="grid-3">
        <div class="metric">
            <div class="label">Usuario</div>
            <div class="value" id="usuario">—</div>
        </div>
        <div class="metric">
            <div class="label">Ruta</div>
            <div class="value" id="ruta">—</div>
        </div>
        <div class="metric">
            <div class="label">ID Inicio</div>
            <div class="value" id="idinicio">—</div>
        </div>
    </div>
</div>

<!-- RESUMEN -->
<div class="card">
    <h3>Resumen</h3>
    <div class="grid-4">
        <div class="metric">
            <div class="label">Valor a Cobrar</div>
            <div class="value" id="valoracobrar">$0</div>
            <span class="badge green">Estado</span>
        </div>

        <div class="metric">
            <div class="label">Valor Cobrado</div>
            <div class="value" id="valorcobrado">$0</div>
            <span class="badge red">Estado</span>
        </div>

        <div class="metric">
            <div class="label">Total Pagos</div>
            <div class="value" id="pagos">0</div>
            <span class="badge orange">Registros</span>
        </div>

        <div class="metric">
            <div class="label">Atrasos</div>
            <div class="value" id="atrasos">0</div>
            <span class="badge purple">Estado</span>
        </div>
    </div>
</div>

</div>

<!-- SCRIPT -->
<script>
const params = new URLSearchParams(window.location.search);
const get = key => params.get(key) ?? '';

const formatNumber = value => {
    const n = Number(value);
    return isNaN(n) ? value : n.toLocaleString('es-CO');
};

const formatMoney = value => {
    const n = Number(value);
    return isNaN(n)
        ? value
        : n.toLocaleString('es-CO', {
            style: 'currency',
            currency: 'COP',
            minimumFractionDigits: 0
        });
};

// Información general
document.getElementById('usuario').innerText = formatNumber(get('Usuario'));
