<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CUADRE DEL DIA- Dashboard</title>

<style>
body {
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298, #7e22ce);
    margin: 0;
    padding: 24px;
}

.container {
    max-width: 1400px;
    margin: auto;
}

.card {
    background: #ffffff;
    border-radius: 20px;
    padding: 26px;
    box-shadow: 0 18px 45px rgba(0,0,0,.25);
    margin-bottom: 26px;
}

.header h1 {
    margin: 0;
    font-size: 32px;
    font-weight: 800;
}

.subtitle {
    font-size: 13px;
    color: #666;
}

.section-title {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 16px;
}

.grid-4 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 18px;
}

.grid-3 {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 18px;
}

.metric {
    background: #f8f9ff;
    border-radius: 16px;
    padding: 20px;
}

.label {
    font-size: 13px;
    font-weight: 600;
    color: #555;
}

.value {
    margin-top: 6px;
    font-size: 26px;
    font-weight: 800;
    color: #111;
}

.badge {
    display: inline-block;
    margin-top: 10px;
    padding: 4px 14px;
    border-radius: 999px;
    font-size: 11px;
    font-weight: 700;
    color: #fff;
}

.green { background: #10b981; }
.blue { background: #2563eb; }
.red { background: #ef4444; }
.orange { background: #f59e0b; }
.purple { background: #8b5cf6; }
</style>
</head>

<body>
<div class="container">

<!-- ENCABEZADO -->
<div class="card header">
    <h1>CUADRE</h1>
    <div class="subtitle">Sistema de Gestión de Creditos</div>
</div>

<!-- INFORMACIÓN GENERAL -->
<div class="card">
    <div class="section-title">Información General</div>
    <div class="grid-4">
        <div class="metric">
            <div class="label">Fecha</div>
            <div class="value" id="fecha">—</div>
        </div>
        <div class="metric">
            <div class="label">ID Inicio</div>
            <div class="value" id="idinicio">—</div>
        </div>
        <div class="metric">
            <div class="label">Usuario</div>
            <div class="value" id="usuario">—</div>
        </div>
        <div class="metric">
            <div class="label">Ruta</div>
            <div class="value" id="ruta">—</div>
        </div>
    </div>
</div>

<!-- RESUMEN FINANCIERO -->
<div class="card">
    <div class="section-title">Resumen Financiero</div>
    <div class="grid-3">
        <div class="metric">
            <div class="label">Valor Ruta</div>
            <div class="value" id="valorruta">$0</div>
            <span class="badge blue">Ruta</span>
        </div>
        <div class="metric">
            <div class="label">Valor a Cobrar</div>
            <div class="value" id="valoracobrar">$0</div>
            <span class="badge green">Esperado</span>
        </div>
        <div class="metric">
            <div class="label">Valor Cobrado</div>
            <div class="value" id="valorcobrado">$0</div>
            <span class="badge red">Recaudo</span>
        </div>
    </div>
</div>

<!-- INDICADORES -->
<div class="card">
    <div class="section-title">Indicadores</div>
    <div class="grid-3">
        <div class="metric">
            <div class="label">Clientes Activos</div>
            <div class="value" id="clientes">0</div>
            <span class="badge blue">Clientes</span>
        </div>
        <div class="metric">
            <div class="label">Pagos</div>
            <div class="value" id="pagos">0</div>
            <span class="badge orange">Movimientos</span>
        </div>
        <div class="metric">
            <div class="label">Atrasos</div>
            <div class="value" id="atrasos">0</div>
            <span class="badge purple">Pendientes</span>
        </div>
    </div>
</div>

</div>

<script>
const params = new URLSearchParams(window.location.search);
const get = k => params.get(k) ?? '';

const formatNumber = v => {
    const n = Number(v);
    return isNaN(n) ? v : n.toLocaleString('es-CO');
};

const formatMoney = v => {
    const n = Number(v);
    return isNaN(n)
        ? v
        : n.toLocaleString('es-CO', {
            style: 'currency',
            currency: 'COP',
            minimumFractionDigits: 0
        });
};

document.getElementById('fecha').innerText = get('Fecha');
document.getElementById('idinicio').innerText = get('IdInicio');
document.getElementById('usuario').innerText = get('Usuario');
document.getElementById('ruta').innerText = get('Ruta');

document.getElementById('valorruta').innerText = formatMoney(get('ValorRuta'));
document.getElementById('valoracobrar').innerText = formatMoney(get('ValorACobrar'));
document.getElementById('valorcobrado').innerText = formatMoney(get('ValorCobrado'));

document.getElementById('clientes').innerText = formatNumber(get('ClientesActivos'));
document.getElementById('pagos').innerText = formatNumber(get('Pagos'));
document.getElementById('atrasos').innerText = formatNumber(get('At'));
</script>

</body>
</html>
